{"version":3,"sources":["store.js","api/todos.js","api/users.js","components/User.js","components/TodoItem.js","components/TodoList.js","App.js","index.js"],"names":["ACTION_TYPES","loadData","data","type","payload","initialState","isLoading","isReady","sortedField","getData","dispatch","store","Promise","all","fetch","then","response","json","_ref","_ref2","Object","slicedToArray","listOfTodos","listOfUsers","map","todo","objectSpread2","user","find","id","userId","createStore","state","arguments","length","undefined","action","filter","item","toConsumableArray","sort","a","b","localeCompare","completed","title","reverse","applyMiddleware","thunk","User","props","name","connect","todoList","deleteTodo","todoId","_ref$todo","react_default","createElement","className","checked","readOnly","components_User","onClick","sortData","field","components_TodoItem","key","getTodoList","components_TodoList","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.311d7369.chunk.js","sourcesContent":["import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport { getUsers } from './api/users';\nimport { getTodos } from './api/todos';\n\nconst ACTION_TYPES = {\n  ADD_DATA: 'ADD_DATA',\n  LOAD_DATA: 'LOAD_DATA',\n  DELETE_TODO: 'DELETE_TODO',\n  SORT_TODO: 'SORT_TODO',\n};\n\nconst loadData = data => ({\n  type: ACTION_TYPES.LOAD_DATA,\n  payload: data,\n});\n\nexport const addData = data => ({\n  type: ACTION_TYPES.ADD_DATA,\n  payload: data,\n});\n\nexport const deleteTodo = todoId => ({\n  type: ACTION_TYPES.DELETE_TODO,\n  payload: todoId,\n});\n\nexport const sortData = field => ({\n  type: ACTION_TYPES.SORT_TODO,\n  payload: field,\n});\n\nconst initialState = {\n  data: [],\n  isLoading: false,\n  isReady: true,\n  sortedField: 'id',\n};\n\nexport const getData = () => (dispatch) => {\n  store.dispatch(loadData());\n\n  Promise.all([getTodos(), getUsers()])\n    .then(([listOfTodos, listOfUsers]) => dispatch(\n      addData(listOfTodos.map(todo => (\n        {\n          ...todo,\n          user: listOfUsers.find(user => user.id === todo.userId),\n        }\n      ))),\n      store.dispatch(loadData())\n    ));\n};\n\nconst reducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case ACTION_TYPES.ADD_DATA: {\n      return {\n        ...state,\n        data: action.payload,\n      };\n    }\n\n    case ACTION_TYPES.LOAD_DATA: {\n      return {\n        ...state,\n        isLoading: !state.isLoading,\n      };\n    }\n\n    case ACTION_TYPES.DELETE_TODO: {\n      return {\n        ...state,\n        data: state.data.filter(item => item.id !== action.payload),\n      };\n    }\n\n    case ACTION_TYPES.SORT_TODO: {\n      if (action.payload === 'name' && state.sortedField !== 'name') {\n        return {\n          ...state,\n          data: [...state.data]\n            .sort((a, b) => (a.user[action.payload]\n              .localeCompare(b.user[action.payload])\n            )),\n          sortedField: 'name',\n        };\n      }\n\n      if (action.payload === 'id' && state.sortedField !== 'id') {\n        return {\n          ...state,\n          data: [...state.data]\n            .sort((a, b) => (a.id - b.id)),\n          sortedField: 'id',\n        };\n      }\n\n      if (action.payload === 'completed' && state.sortedField !== 'completed') {\n        return {\n          ...state,\n          data: [...state.data]\n            .sort((a, b) => (b.completed - a.completed)),\n          sortedField: 'completed',\n        };\n      }\n\n      if (action.payload === 'title' && state.sortedField !== 'title') {\n        return {\n          ...state,\n          data: [...state.data]\n            .sort((a, b) => (a.title.localeCompare(b.title)\n            )),\n          sortedField: 'title',\n        };\n      }\n\n      return {\n        ...state,\n        data: [...state.data]\n          .reverse(),\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport const store = createStore(\n  reducer,\n  applyMiddleware(thunk),\n);\n","const todosURL = 'https://jsonplaceholder.typicode.com/todos';\n\nexport const getTodos = () => fetch(todosURL)\n  .then(response => response.json());\n","const usersURL = 'https://jsonplaceholder.typicode.com/users';\n\nexport const getUsers = () => fetch(usersURL)\n  .then(response => response.json());\n","const User = props => props.user.name;\n\nexport default User;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { deleteTodo } from '../store';\nimport User from './User';\n\n// eslint-disable-next-line no-shadow\nconst TodoItem = ({ todo: { user, id, title, completed }, deleteTodo }) => (\n  <tr>\n    <td>{id}</td>\n    <td>{title}</td>\n    <td className=\"todo\">\n      <input type=\"checkbox\" checked={completed} readOnly />\n      <span>\n        {completed ? 'completed' : 'not completed'}\n      </span>\n    </td>\n    <td>\n      <User\n        user={user}\n      />\n    </td>\n    <td>\n      <button\n        type=\"button\"\n        onClick={() => deleteTodo(id)}\n      >\n          X\n      </button>\n    </td>\n  </tr>\n);\n\nconst mapStateToProps = state => ({\n  todoList: state.todoList,\n});\n\nTodoItem.propTypes = {\n  deleteTodo: PropTypes.func.isRequired,\n  todo: PropTypes.oneOfType([PropTypes.object])\n    .isRequired,\n};\n\nexport default connect(mapStateToProps, { deleteTodo })(TodoItem);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport TodoItem from './TodoItem';\nimport { sortData } from '../store';\n\n// eslint-disable-next-line no-shadow\nconst TodoList = ({ data, sortData }) => (\n  <div className=\"App\">\n    <h1 className=\"heading\">\n        Count:\n      {' '}\n      { data.length }\n    </h1>\n    <table>\n      <thead>\n        <tr>\n          <th onClick={() => sortData('id')}>Id</th>\n          <th onClick={() => sortData('title')}>Title</th>\n          <th onClick={() => sortData('completed')}>Completed</th>\n          <th onClick={() => sortData('name')}>Name</th>\n          <th>Delete</th>\n        </tr>\n      </thead>\n      <tbody>\n        {data.map(todo => (\n          <TodoItem\n            todo={todo}\n            key={todo.id}\n          />\n        ))}\n      </tbody>\n    </table>\n  </div>\n);\n\nTodoList.propTypes = {\n  data: PropTypes.oneOfType([PropTypes.array])\n    .isRequired,\n  sortData: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = () => ({ data }) => ({ data });\n\nexport default connect(mapStateToProps, { sortData })(TodoList);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport './style/index.css';\nimport { getData } from './store';\nimport TodoList from './components/TodoList';\n\nconst App = ({ data, isLoading, getTodoList }) => {\n  if (isLoading) {\n    return (\n      <div className=\"loader\">\n        <div className=\"spinner\" />\n      </div>\n    );\n  }\n\n  if (data.length === 0) {\n    return (\n      <div className=\"App\">\n        <h1 className=\"heading\">Redux List of Todos</h1>\n        <button\n          className=\"btn\"\n          type=\"button\"\n          onClick={getTodoList}\n        >\n          Load Todos\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"heading\">Redux List of Todos</h1>\n      <TodoList />\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  data: state.data,\n  isLoading: state.isLoading,\n});\n\nconst mapDispatchToMethod = dispatch => ({\n  getTodoList: () => dispatch(getData()),\n});\n\nApp.propTypes = {\n  data: PropTypes.oneOfType([PropTypes.array]).isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  getTodoList: PropTypes.func.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToMethod)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store';\nimport App from './App';\n\nReactDOM.render((\n  <Provider store={store}>\n    <App />\n  </Provider>\n), document.getElementById('root'));\n"],"sourceRoot":""}